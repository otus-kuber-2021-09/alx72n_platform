# Выполнено ДЗ #1.3 Kubernetes controllers. ReplicaSet, Deployment, DaemonSet

- ✅ Основное ДЗ.
- ✅ Deployment | Задание со ⭐.
- ✅ DaemonSet | Задание со ⭐.
- ✅ DaemonSet | Задание с ⭐⭐.

## В процессе сделано

- ✅ **Подготовка**
  - установим kind и создадим кластер.
  - убедитесь что развернута ода master нода и три worker ноды.
- ✅ **ReplicaSet**
  - Создайте и примените манифест frontend-replicaset.yaml.
  - Определите, что необходимо добавить в манифест, исправьте его и примените
    вновь.
  - увеличить количество реплик сервиса ad-hoc.
  - Проверить, что ReplicaSet контроллер теперь управляет тремя репликами.
  - Проверим, что благодаря контроллеру pod’ы действительно восстанавливаются
    после их ручного удаления.
  - Повторно примените манифест frontend-replicaset.yaml.
  - Убедитесь, что количество реплик вновь уменьшилось до одной.
  - Измените манифест таким образом, чтобы сразу разворачивалось три реплики
    сервиса, вновь примените его.
- ✅ **Обновление ReplicaSet**
  - Добавьте на DockerHub версию образа с новым тегом (v0.0.2.
  - Обновите в манифесте версию образа.
  - Примените новый манифест.
  - проверим образ, указанный в ReplicaSet.
  - И образ из которого сейчас запущены pod, управляемые контроллером.
  - Удалите все запущенные pod и после их пересоздания еще раз проверьте, из
    какого образа они развернулись.
  - ✅ ❓ почему обновление ReplicaSet не повлекло обновление запущенных pod
    - количество уже запущенных подов соответствует ожиданию. Для рестарта нужно
      удалить старые поды.
- ✅ **Deployment**
  - воспроизведите действия, проделанные с микросервисом frontend для
    микросервиса paymentService.
  - Используйте label app:paymentservice.
  - Собранный и помещенный в Docker Hub образ с двумя тегами v0.0.1 и v0.0.2.
  - Валидный манифест paymentservice-replicaset.yaml с тремя репликами,
    разворачивающими из образа версии v0.0.1.
  - Скопируйте содержимое файла paymentservice-replicaset.yaml в файл
    paymentservice-deployment.yaml.
  - Измените поле kind с ReplicaSet на Deployment.
  - Убедитесь, что в кластере Kubernetes действительно запустилось три реплики
    сервиса paymentservice и каждая из них находится в состоянии Ready.
  - помимо Deployment ( kubectl get deployments ) и трех pod, у нас появился
    новый ReplicaSet ( kubectl get rs ).
  - Вспомним зависимость между Deployment, ReplicaSet и Pod.
- ✅ **Обновление Deployment**
  - обновить наш Deployment на версию образа v0.0.2.
  - Все новые pod развернуты из образа v0.0.2.
  - Создано два ReplicaSe.
  - Один (новый) управляет тремя репликами pod с образом v0.0.2.
  - Второй (старый) управляет нулем реплик pod с образом v0.0.1.
  - посмотреть на историю версий нашего Deployment.
- ✅ **Deployment | Rollback**
  - сделать откат.
- ✅ **Deployment | Задание со ⭐**
  - реализуйте два следующих сценария развертывания.
    - Аналог blue-green.
    - Reverse Rolling Update.
- ✅ **Probes**
  - Создайте манифест frontend-deployment.yaml из которого можно развернуть три
    реплики pod с тегом образа v0.0.1.
  - Добавьте туда описание readinessProbe.
  - Примените манифест с readinessProbe.
  - Замените в описании пробы URL на.
  - Разверните версию v0.0.2.
  - посмотреть на текущее состояние нашего микросервиса.
  - отследить успешность выполнения Deployment.
- ✅ **DaemonSet**
- ✅ **DaemonSet | Задание со ⭐**
  - напишите самостоятельно манифест для развертывания DaemonSet с Node exporter
  - После применения данного DaemonSet и выполнения команды: метрики должны быть
    доступны на localhost.
- ✅ **DaemonSet | Задание с ⭐⭐**
  - модернизировать свой DaemonSet таким образом, чтобы Node Exporter был
    развернут как на master, так и на worker нодах.
